import{_ as m,o as l,c as o,g as _,p as y,h as C,a as h,F as I,r as S,n as p,i as x,j as $,v as M,b as g,w,f as O,t as F}from"./entry-48f8c463.mjs";const B={name:"PathSvg",props:{path:{type:String,required:!0}}},d=e=>(y("data-v-5a07cbaa"),e=e(),C(),e),N={class:"path-svg"},R={class:"path-svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},j=d(()=>h("ellipse",{cx:"50",cy:"50",rx:"6",ry:"6",fill:"currentColor"},null,-1)),V={key:0},L=d(()=>h("rect",{x:"44",y:"0",width:"12",height:"50",fill:"currentColor"},null,-1)),Z=[L],G={key:1},q=d(()=>h("rect",{x:"50",y:"44",width:"50",height:"12",fill:"currentColor"},null,-1)),z=[q],D={key:2},H=d(()=>h("rect",{x:"44",y:"50",width:"12",height:"50",fill:"currentColor"},null,-1)),P=[H],A={key:3},E=d(()=>h("rect",{x:"0",y:"44",width:"50",height:"12",fill:"currentColor"},null,-1)),K=d(()=>h("ellipse",{cx:"0",cy:"50",rx:"6",ry:"6",fill:"currentColor"},null,-1)),T=[E,K],J={key:4},Q=d(()=>h("path",{d:"M56 37.7434C56 34.288 55 45 55 45C55 45 65.7121 44 62.2566 44C58.8012 44 56 41.1988 56 37.7434Z",fill:"currentColor"},null,-1)),U=[Q],W={key:5},X=d(()=>h("path",{d:"M62.2566 56C65.712 56 55 55 55 55C55 55 56 65.712 56 62.2566C56 58.8012 58.8012 56 62.2566 56Z",fill:"currentColor"},null,-1)),Y=[X],ee={key:6},te=d(()=>h("path",{d:"M44 62.2566C44 65.712 45 55 45 55C45 55 34.2879 56 37.7434 56C41.1988 56 44 58.8012 44 62.2566Z",fill:"currentColor"},null,-1)),ie=[te],se={key:7},he=d(()=>h("path",{d:"M37.7434 44C34.288 44 45 45 45 45C45 45 44 34.288 44 37.7434C44 41.1988 41.1988 44 37.7434 44Z",fill:"currentColor"},null,-1)),ae=[he];function le(e,i,t,s,n,c){return l(),o("div",N,[(l(),o("svg",R,[j,t.path[0]==="1"?(l(),o("g",V,Z)):_("",!0),t.path[1]==="1"?(l(),o("g",G,z)):_("",!0),t.path[2]==="1"?(l(),o("g",D,P)):_("",!0),t.path[3]==="1"?(l(),o("g",A,T)):_("",!0),t.path[0]==="1"&&t.path[1]==="1"?(l(),o("g",J,U)):_("",!0),t.path[1]==="1"&&t.path[2]==="1"?(l(),o("g",W,Y)):_("",!0),t.path[2]==="1"&&t.path[3]==="1"?(l(),o("g",ee,ie)):_("",!0),t.path[3]==="1"&&t.path[0]==="1"?(l(),o("g",se,ae)):_("",!0)]))])}var oe=m(B,[["render",le],["__scopeId","data-v-5a07cbaa"]]);const ce={name:"Field",props:{field:{type:Object,required:!0},status:{type:String,default:"loading"}},methods:{changeItemOffset(e,i){this.$emit("changeItemOffset",e,i)}}},de=["onClick"],ne={class:"field-item-inner"};function _e(e,i,t,s,n,c){const r=oe;return l(),o("div",{class:x(["field",{complete:t.status==="complete"}])},[h("div",{class:"field-inner",style:p({width:t.field.width+"rem",height:t.field.height+"rem"})},[(l(!0),o(I,null,S(t.field.items,(a,u)=>$((l(),o("div",{key:"field-item-"+u,class:"field-item",style:p({top:100/t.field.height_c*a.y+"%",left:100/t.field.width_c*a.x+"%",width:100/t.field.width_c+"%",height:100/t.field.height_c+"%",transform:`rotate(${90*a.offset}deg)`}),onClick:v=>c.changeItemOffset(a.index,1)},[h("div",ne,[g(r,{path:a.value},null,8,["path"])])],12,de)),[[M,a.value!=="0000"]])),128))],4)],2)}var re=m(ce,[["render",_e],["__scopeId","data-v-723c8d80"]]);const fe={name:"Level",pageKey(){return`level-page-${this.$route.params.id}`},data:()=>({game:{field:{width:48,height:48,width_c:4,height_c:4,items:[]},status:"loading"}}),computed:{},methods:{gameInit(){this.$route.params.id>200&&this.$route.params.id<=400&&(this.game.field.width_c=5,this.game.field.height_c=5),this.$route.params.id>400&&(this.game.field.width_c=6,this.game.field.height_c=6);let e=this.getHash(this.$route.params.id).toString(2);for(let i=0;i<this.game.field.height_c;i++)for(let t=0;t<this.game.field.width_c;t++){let s="";s+=i===0?"0":this.game.field.items[(i-1)*this.game.field.height_c+t].value[2]||"0",s+=t===this.game.field.width_c-1?"0":(e=e.slice(0,-1)).substring(e.length-1)||"0",s+=i===this.game.field.height_c-1?"0":(e=e.slice(0,-1)).substring(e.length-1)||"0",s+=t===0?"0":this.game.field.items[i*this.game.field.height_c+t-1].value[1]||"0",this.game.field.items.push({index:i*this.game.field.height_c+t,value:s,offset:Math.round(Math.random()*3+1),y:i,x:t})}this.checkFieldStatus()&&this.fieldRefresh(),this.game.status="playing",this.checkFieldStatus()&&(this.game.status="complete")},getHash(e,i=1){let t=3735928559^i,s=1103547991^i;for(let n=0,c;n<e.length;n++)c=e.charCodeAt(n),t=Math.imul(t^c,2654435761),s=Math.imul(s^c,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),s=Math.imul(s^s>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&s)+(t>>>0)},checkFieldStatus(){for(let e=0;e<this.game.field.height_c;e++)for(let i=0;i<this.game.field.width_c;i++){const t=this.game.field.items[e*this.game.field.height_c+i].offset,s=this.game.field.items[e*this.game.field.height_c+i].value[(5-t%4)%4],n=this.game.field.items[e*this.game.field.height_c+i].value[(6-t%4)%4],c=this.game.field.items[e*this.game.field.height_c+i].value[(4-t%4)%4],r=this.game.field.items[e*this.game.field.height_c+i].value[(7-t%4)%4],a=i!==this.game.field.width_c-1?this.game.field.items[e*this.game.field.height_c+i+1]:null,u=a?a.offset:null,v=a?a.value[(7-u%4)%4]:null,f=e!==this.game.field.height_c-1?this.game.field.items[(e+1)*this.game.field.height_c+i]:null,b=f?f.offset:null,k=f?f.value[(4-b%4)%4]:null;if(i===0&&r!=="0"||i===this.game.field.width_c-1&&s!=="0"||e===0&&c!=="0"||e===this.game.field.height_c-1&&n!=="0"||a&&s!==v||f&&n!==k)return!1}return!0},fieldRefresh(){for(let e=0;e<this.game.field.height_c;e++)for(let i=0;i<this.game.field.width_c;i++)this.game.field.items[e*this.game.field.height_c+i].offset=Math.round(Math.random()*3+1)},changeItemOffset(e,i){this.game.status==="playing"&&(this.game.field.items[e].offset+=i,this.checkFieldStatus()&&(this.game.status="complete",console.log(this.game.status)))}},mounted(){this.gameInit()}},ge=e=>(y("data-v-7f52081b"),e=e(),C(),e),ue={class:"level container"},me={class:"level-arrow complete"},ve=ge(()=>h("div",{class:"level-arrow__label"},"level selection",-1)),pe={class:"level-arrow__label"};function we(e,i,t,s,n,c){const r=O,a=re;return l(),o("div",ue,[h("div",me,[g(r,{class:"level-arrow__back",to:"/"},{default:w(()=>[ve]),_:1})]),g(a,{key:"GameField",field:e.game.field,status:e.game.status,onChangeItemOffset:c.changeItemOffset},null,8,["field","status","onChangeItemOffset"]),h("div",{class:x(["level-arrow",{complete:e.game.status==="complete"}])},[g(r,{class:"level-arrow__next",to:`/level/${Number(e.$route.params.id)+1}/`},{default:w(()=>[h("div",pe,F(`level ${Number(e.$route.params.id)+1}`),1)]),_:1},8,["to"])],2)])}var Ce=m(fe,[["render",we],["__scopeId","data-v-7f52081b"]]);export{Ce as default};
