import{_ as m,o as h,c as o,g as _,p as y,h as C,a,F as S,r as I,n as p,i as b,j as M,v as O,b as u,w,f as $,t as F}from"./entry-d714c00c.mjs";const B={name:"PathSvg",props:{path:{type:String,required:!0}}},n=t=>(y("data-v-5a07cbaa"),t=t(),C(),t),j={class:"path-svg"},N={class:"path-svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},R=n(()=>a("ellipse",{cx:"50",cy:"50",rx:"6",ry:"6",fill:"currentColor"},null,-1)),V={key:0},L=n(()=>a("rect",{x:"44",y:"0",width:"12",height:"50",fill:"currentColor"},null,-1)),Z=[L],G={key:1},P=n(()=>a("rect",{x:"50",y:"44",width:"50",height:"12",fill:"currentColor"},null,-1)),q=[P],z={key:2},D=n(()=>a("rect",{x:"44",y:"50",width:"12",height:"50",fill:"currentColor"},null,-1)),H=[D],A={key:3},E=n(()=>a("rect",{x:"0",y:"44",width:"50",height:"12",fill:"currentColor"},null,-1)),T=n(()=>a("ellipse",{cx:"0",cy:"50",rx:"6",ry:"6",fill:"currentColor"},null,-1)),J=[E,T],K={key:4},Q=n(()=>a("path",{d:"M56 37.7434C56 34.288 55 45 55 45C55 45 65.7121 44 62.2566 44C58.8012 44 56 41.1988 56 37.7434Z",fill:"currentColor"},null,-1)),U=[Q],W={key:5},X=n(()=>a("path",{d:"M62.2566 56C65.712 56 55 55 55 55C55 55 56 65.712 56 62.2566C56 58.8012 58.8012 56 62.2566 56Z",fill:"currentColor"},null,-1)),Y=[X],ee={key:6},te=n(()=>a("path",{d:"M44 62.2566C44 65.712 45 55 45 55C45 55 34.2879 56 37.7434 56C41.1988 56 44 58.8012 44 62.2566Z",fill:"currentColor"},null,-1)),ie=[te],se={key:7},ae=n(()=>a("path",{d:"M37.7434 44C34.288 44 45 45 45 45C45 45 44 34.288 44 37.7434C44 41.1988 41.1988 44 37.7434 44Z",fill:"currentColor"},null,-1)),le=[ae];function he(t,i,e,s,d,c){return h(),o("div",j,[(h(),o("svg",N,[R,e.path[0]==="1"?(h(),o("g",V,Z)):_("",!0),e.path[1]==="1"?(h(),o("g",G,q)):_("",!0),e.path[2]==="1"?(h(),o("g",z,H)):_("",!0),e.path[3]==="1"?(h(),o("g",A,J)):_("",!0),e.path[0]==="1"&&e.path[1]==="1"?(h(),o("g",K,U)):_("",!0),e.path[1]==="1"&&e.path[2]==="1"?(h(),o("g",W,Y)):_("",!0),e.path[2]==="1"&&e.path[3]==="1"?(h(),o("g",ee,ie)):_("",!0),e.path[3]==="1"&&e.path[0]==="1"?(h(),o("g",se,le)):_("",!0)]))])}var oe=m(B,[["render",he],["__scopeId","data-v-5a07cbaa"]]);const ce={name:"Field",props:{field:{type:Object,required:!0},status:{type:String,default:"loading"}},methods:{changeItemOffset(t,i){this.$emit("changeItemOffset",t,i)}}},ne=["onClick"],de={class:"field-item-inner"};function _e(t,i,e,s,d,c){const r=oe;return h(),o("div",{class:b(["field",{complete:e.status==="complete"}])},[a("div",{class:"field-inner",style:p({width:e.field.width+"rem",height:e.field.height+"rem"})},[(h(!0),o(S,null,I(e.field.items,(l,g)=>M((h(),o("div",{key:"field-item-"+g,class:"field-item",style:p({top:100/e.field.height_c*l.y+"%",left:100/e.field.width_c*l.x+"%",width:100/e.field.width_c+"%",height:100/e.field.height_c+"%",transform:`rotate(${90*l.offset}deg)`}),onClick:v=>c.changeItemOffset(l.index,1)},[a("div",de,[u(r,{path:l.value},null,8,["path"])])],12,ne)),[[O,l.value!=="0000"]])),128))],4)],2)}var re=m(ce,[["render",_e],["__scopeId","data-v-4b149cfb"]]);const fe={name:"Level",data:()=>({game:{field:{width:48,height:48,width_c:4,height_c:4,items:[]},status:"loading"}}),computed:{},methods:{gameInit(){this.$route.params.id>200&&this.$route.params.id<=400&&(this.game.field.width_c=5,this.game.field.height_c=5),this.$route.params.id>400&&(this.game.field.width_c=6,this.game.field.height_c=6);let t=this.getHash(this.$route.params.id).toString(2);for(let i=0;i<this.game.field.height_c;i++)for(let e=0;e<this.game.field.width_c;e++){let s="";s+=i===0?"0":this.game.field.items[(i-1)*this.game.field.height_c+e].value[2]||"0",s+=e===this.game.field.width_c-1?"0":(t=t.slice(0,-1)).substring(t.length-1)||"0",s+=i===this.game.field.height_c-1?"0":(t=t.slice(0,-1)).substring(t.length-1)||"0",s+=e===0?"0":this.game.field.items[i*this.game.field.height_c+e-1].value[1]||"0",this.game.field.items.push({index:i*this.game.field.height_c+e,value:s,offset:Math.round(Math.random()*3+1),y:i,x:e})}this.checkFieldStatus()&&this.fieldRefresh(),this.game.status="playing",this.checkFieldStatus()&&(this.game.status="complete")},getHash(t,i=1){let e=3735928559^i,s=1103547991^i;for(let d=0,c;d<t.length;d++)c=t.charCodeAt(d),e=Math.imul(e^c,2654435761),s=Math.imul(s^c,1597334677);return e=Math.imul(e^e>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),s=Math.imul(s^s>>>16,2246822507)^Math.imul(e^e>>>13,3266489909),4294967296*(2097151&s)+(e>>>0)},checkFieldStatus(){for(let t=0;t<this.game.field.height_c;t++)for(let i=0;i<this.game.field.width_c;i++){const e=this.game.field.items[t*this.game.field.height_c+i].offset,s=this.game.field.items[t*this.game.field.height_c+i].value[(5-e%4)%4],d=this.game.field.items[t*this.game.field.height_c+i].value[(6-e%4)%4],c=this.game.field.items[t*this.game.field.height_c+i].value[(4-e%4)%4],r=this.game.field.items[t*this.game.field.height_c+i].value[(7-e%4)%4],l=i!==this.game.field.width_c-1?this.game.field.items[t*this.game.field.height_c+i+1]:null,g=l?l.offset:null,v=l?l.value[(7-g%4)%4]:null,f=t!==this.game.field.height_c-1?this.game.field.items[(t+1)*this.game.field.height_c+i]:null,x=f?f.offset:null,k=f?f.value[(4-x%4)%4]:null;if(i===0&&r!=="0"||i===this.game.field.width_c-1&&s!=="0"||t===0&&c!=="0"||t===this.game.field.height_c-1&&d!=="0"||l&&s!==v||f&&d!==k)return!1}return!0},fieldRefresh(){for(let t=0;t<this.game.field.height_c;t++)for(let i=0;i<this.game.field.width_c;i++)this.game.field.items[t*this.game.field.height_c+i].offset=Math.round(Math.random()*3+1)},changeItemOffset(t,i){this.game.status==="playing"&&(this.game.field.items[t].offset+=i,this.checkFieldStatus()&&(this.game.status="complete",console.log(this.game.status)))}},mounted(){this.gameInit()}},ue=Object.assign(fe,{setup(t,{expose:i}){i();const e={};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),ge=t=>(y("data-v-aec4e766"),t=t(),C(),t),me={class:"level container"},ve={class:"level-arrow complete"},pe=ge(()=>a("div",{class:"level-arrow__label"},"level selection",-1)),we={class:"level-arrow__label"};function ye(t,i,e,s,d,c){const r=$,l=re;return h(),o("div",me,[a("div",ve,[u(r,{class:"level-arrow__back",to:"/"},{default:w(()=>[pe]),_:1})]),u(l,{key:"GameField",field:t.game.field,status:t.game.status,onChangeItemOffset:c.changeItemOffset},null,8,["field","status","onChangeItemOffset"]),a("div",{class:b(["level-arrow",{complete:t.game.status==="complete"}])},[u(r,{class:"level-arrow__next",to:`/level/${Number(t.$route.params.id)+1}/`},{default:w(()=>[a("div",we,F(`level ${Number(t.$route.params.id)+1}`),1)]),_:1},8,["to"])],2)])}var be=m(ue,[["render",ye],["__scopeId","data-v-aec4e766"]]);export{be as default};
